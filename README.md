# BooksRestService
BooksRestService - REST сервис для работы с сущностями "book", "author", "wishlist", согласно задания.  
(задание - https://github.com/k0r0tk0ff/BooksRestService/blob/master/task.md)

#### Настройка окружения  
Необходимо скачать ПО "H2 Database Engine" для разворачивания полноценной базы данных (далее - БД)-  
http://www.h2database.com/h2-2018-03-18.zip и распаковать в произвольную папку.   

Для операционной системы Windows,   
к примеру, путь до распакованной папки пусть будет - "E:\tools\h2-2018-03-18".     
запустить базу данных можно скриптом запуска "E:\tools\h2-2018-03-18\h2\bin\h2w.bat".    
В трее появиться значек "H2 Database Engine". В браузере по умолчанию откроется web консоль,    
в которой можно выполнять sql запросы к данной БД. (Если по каким либо причинам не открылась,      
зайти можно по ссылке http://127.0.0.1:8082 логин - sa, пароль - не вводим.)    

#### Сборка приложения      
Перед запуском приложения его необходимо скачать по ссылке     
https://github.com/k0r0tk0ff/BooksRestService/archive/master.zip,  
распаковать и перейти в распакованную директорию.    
Затем его собрать командой "mvn package" сборщиком Apache Maven      
(Необходима версия 3.3.2 или новее. Скачать можно отсюда - https://maven.apache.org/download.cgi).  
Должна создасться папка "target", в которой должен находиться артефакт "BooksRestService-1.0-SNAPSHOT.jar".  
При необходимости, перед сборкой, в проекте можно отредактировав файл "data-h2.sql"  
куда добавить/изменить тестовые данные. Также можно собирать проект вообще без этого файла,    
и добавить впоследствии данные посредством rest api   
с соблюдением очередности - сначала book, затем wishlist.    

### Работа приложения   
Запустить приложение можно из командной строки (при наличии в системной переменной path пути до java)    
#### java -Dfile.encoding=UTF-8 -jar BooksRestService-1.0-SNAPSHOT.jar    
либо создав bat файл запуска с этим содержимым.

### Формат работы с сущностями   
#### BOOK 
Добавить книгу -
POST: http://127.0.0.1:8080/api/book    
{  
    "price": "1000",  
    "authorName": "Лермонтов",  
    "name": "Бородино"  
}  

Изменить книгу -  
PUT: http://127.0.0.1:8080/api/book  
{  
	"bookId": "27",  
    "price": "1500",  
    "authorName": "Лермонтов",  
    "name": "Бородино"  
}  

Получить информацию о книге с id = 27  
GET: http://127.0.0.1:8080/api/book/27  

Удалить информацию о книге с id = 29  
DELETE: http://127.0.0.1:8080/api/book/29     

Получить информацию о всех книгах -  
GET: http://127.0.0.1:8080/api/books    

#### AUTHOR  
Добавить автора -  
POST:  
{  
    "name": "Фет"  
}  

Изменить автора -  
PUT:  
{  
    "authorId": 28,  
    "name": "Фет Афанасий"  
}  

Получить информацию об авторе с id = 28  
GET: http://127.0.0.1:8080/api/author/28  

Удалить информацию об авторе с id = 28  
DELETE: http://127.0.0.1:8080/api/author/28  

Получить информацию обо всех авторах - 
GET: http://127.0.0.1:8080/api/authors  

#### WISHLIST  
Добавить лист пожелания -  
POST:  
{  
    "bookId": "1"  
}  

Изменить лист пожелания -    
PUT:    
{    
    "bookId": 1,    
    "count": 2     
}    

Получить информацию о листе пожелания с id = 1   
GET: http://127.0.0.1:8080/api/wishlist/1  

Удалить информацию о листе пожелания с id = 1   
DELETE: http://127.0.0.1:8080/api/wishlist/1  

Получить информацию о всех листах пожеланий  
GET: http://127.0.0.1:8080/api/wishlists  

